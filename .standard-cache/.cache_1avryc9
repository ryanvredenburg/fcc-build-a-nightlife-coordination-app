{"/app/app/config/auth.js":{"size":208,"mtime":1503761967896,"hashOfConfig":"u71bin","results":{"filePath":"/app/app/config/auth.js","messages":[],"errorCount":0,"warningCount":0}},"/app/app/models/users.js":{"size":331,"mtime":1503761967896,"hashOfConfig":"u71bin","results":{"filePath":"/app/app/models/users.js","messages":[],"errorCount":0,"warningCount":0}},"/app/server.js":{"size":1034,"mtime":1503823031718,"hashOfConfig":"u71bin","results":{"filePath":"/app/server.js","messages":[],"errorCount":0,"warningCount":0}},"/app/app/controllers/yelpController.js":{"size":1089,"mtime":1503821414692,"hashOfConfig":"u71bin","results":{"filePath":"/app/app/controllers/yelpController.js","messages":[],"errorCount":0,"warningCount":0,"output":"'use strict'\n\nvar Yelp = require('yelp-api-v3')\n\nvar yelp = new Yelp({\n  app_id: process.env.yelpClientId,\n  app_secret: process.env.yelpClientSecret\n})\n\nfunction getBars (location, callback) {\n  yelp.search({location: location, categories: 'bars'})\n    .then(function (data) {\n      data = JSON.parse(data)\n      var barResults = []\n      for (var i = 0; i < data.businesses.length; i++) {\n        var name = data.businesses[i].name || null\n        var rating = data.businesses[i].rating || null\n        var price = data.businesses[i].price || null\n        var url = data.businesses[i].url || null\n        var imgUrl = data.businesses[i].image_url || null\n        var yelpId = data.businesses[i].id || null\n        var businessData = {\n          name: name,\n          rating: rating,\n          price: price,\n          url: url,\n          imgUrl: imgUrl,\n          yelpId: yelpId\n        }\n        barResults.push(businessData)\n      }\n      callback(null, barResults)\n    })\n    .catch(function (err) {\n      callback(err)\n    })\n}\n\nmodule.exports = getBars\n"}}}